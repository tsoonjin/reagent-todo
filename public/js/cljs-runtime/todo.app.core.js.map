{"version":3,"sources":["todo/app/core.cljs"],"mappings":";AAOA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA;AAKL,AAAKC,AAAkB,AAACC,AAAK,AAACC,AAAYH;AAE1C,AAAA,AAAAI,AAAAC,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AAAM,AAACC,AAAOR;;AACvB,AAAA,AAAAG,AAAAC,AAAAC,AAAAI;AAAA;AAAA,AAAA,AAASC,AAAQ,AAAA,AAACF;;AAClB,AAAA,AAACG,AAAUJ,AACA,AAAKK,AAAIC,AAAMC,AAAWC;AAA1B,AACE,AAAA,AAAA,AAACC,AAAcJ;;AACf,AAACI,AAAQD;;AAEtB,AAAA,AAAME,AAAUC;AAAhB,AACE,AAAMC,AAAG,AAACC,AAAMV,AAAQW;AAAxB,AAAA,AAAA,AAAA,AAAA,AACMC,AAAcH,AAAWD;AAD/B,AAEE,AAACE,AAAMb,AAAMgB,AAAMJ,AAAGG;;AAE1B,AAAA,AAAME,AAAaL;AAAnB,AAAuB,AAACC,AAAMb,AAAMkB,AAAON;;AAE3C,AAAA,AAAMO;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGKC,AAAgBV,AAASO,AAExBI,AAAerB,AAAMiB,AACrBK;;AAKN,AAAA,AAAMC;AAAN,AACE,AAAA,AAACC,AAAaL,AAAK,AAAA,AAAiBM;;AAEtC,AAAA,AAAeC;AAAf,AACE,AAACH;;;AAEH,AAAA,AAAuBI;AAAvB,AACE,AAACJ","names":["todo.app.core/init-todos","todo.app.core/init-todos-sorted","cljs.core.into","cljs.core/sorted-map","js/todo","js/todo.app","js/todo.app.core","js/todo.app.core.todos","todo.app.core/todos","reagent.core.atom","js/todo.app.core.todo-id","todo.app.core/todo-id","cljs.core/add-watch","key","_atom","_old-state","new-state","cljs.core.println","todo.app.core/add-todo","text","id","cljs.core.swap_BANG_","cljs.core/inc","new-todo","cljs.core/assoc","todo.app.core/delete-todo","cljs.core/dissoc","todo.app.core/app","todo.ui.view/task-entry","todo.ui.view/task-list","todo.ui.view/footer-controls","todo.app.core/render","reagent.dom.render","js/document","todo.app.core/main","todo.app.core/reload!"],"sourcesContent":["(ns todo.app.core\n  (:require\n    [reagent.core :as r]\n    [reagent.dom :as rdom]\n    [todo.ui.view :as view]))\n\n;; -- App State --\n(def init-todos {\n                 2 {:id 2, :title \"Clean cpu\", :done false}\n                 1 {:id 1, :title \"Do homework\", :done false}\n                 })\n\n(def init-todos-sorted (into (sorted-map) init-todos))\n\n(defonce todos (r/atom init-todos-sorted))\n(defonce todo-id (r/atom 3))\n(add-watch todos :todos\n           (fn [key _atom _old-state new-state]\n             (println \"---\" key \"atom changed ---\")\n             (println new-state)))\n\n(defn add-todo [text]\n  (let [id (swap! todo-id inc)\n        new-todo {:id id, :title text, :done false}]\n    (swap! todos assoc id new-todo)))\n\n(defn delete-todo [id] (swap! todos dissoc id))\n\n(defn app []\n  [:div\n   [:section.todoapp\n    [view/task-entry add-todo delete-todo]\n    [:div\n     [view/task-list todos delete-todo]\n     [view/footer-controls]]\n    ]\n   [:footer.info\n    [:p \"Copyright 2022\"]]])\n\n(defn render []\n  (rdom/render [app] (.getElementById js/document \"root\")))\n\n(defn ^:export main []\n  (render))\n\n(defn ^:dev/after-load reload! []\n  (render))\n"]}